(this.webpackJsonppoetradeapp=this.webpackJsonppoetradeapp||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(88),a(28)),i=a(29),s=a(33),u=a(32),m=a(144),p=a(148),d=a(149),h=a(150),g=a(51),E=a.n(g),f=a(27),b=a(158),S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).cookies=E.a.parse(document.cookie),e}return Object(i.a)(a,[{key:"render",value:function(){var e=E.a.parse(document.cookie);return r.a.createElement(m.a,null,r.a.createElement(p.a,{position:"relative"},r.a.createElement(d.a,null,r.a.createElement(h.a,{variant:"h6",style:{flexGrow:"1"}},"Recipe Finder"),r.a.createElement("ul",{className:"nav-list"},r.a.createElement(b.a,{color:"inherit"},r.a.createElement(f.b,{to:"/SignUp"},"SignUp")),r.a.createElement(b.a,{color:"inherit"},r.a.createElement(f.b,{to:"/Search"},"Search")),r.a.createElement(b.a,{color:"inherit"},r.a.createElement(f.b,{to:"/Login"},"Login")),e.loggedIn&&r.a.createElement("div",null,r.a.createElement(b.a,{color:"inherit",onClick:function(){window.location.assign("/Dashboard")}}," ","Dashboard"," "),r.a.createElement(b.a,{color:"inherit",onClick:function(){document.cookie="loggedIn=",window.location.assign("/")}}," ","Sign Out"," "))))),r.a.createElement(m.a,null,e.loggedIn?r.a.createElement("h4",null,"Welcome  ",e.username,"!"):null))}}]),a}(n.Component),v=(a(93),a(76)),O=a(7),N=a(152),I=a(153),w=a(154),j=a(155),y=a(151),C=Object(y.a)({bold:{fontWeight:"600"},underline:{fontWeight:"800",textDecoration:"underline"}}),U=function(){var e=C();return r.a.createElement(m.a,{maxWidth:"lg",className:"car-container"},r.a.createElement("div",{className:"flex-container"}),r.a.createElement(N.a,null,r.a.createElement(I.a,null,r.a.createElement(w.a,{className:e.bold},r.a.createElement(j.a,null,"Recipe Name"),r.a.createElement(j.a,null,"Rating")))))},L=a(37),_=a.n(L),G=a(46),x=a(48),k=a(156),A=a(157),D=a(21),T={SIGNUP_LOADING:"SIGNUP_LOADING",SIGNUP_SUCCESS:"SIGNUP_SUCCESS",SIGNUP_FAILURE:"SIGNUP_FAILURE",SIGNUP_ASYNC:"SIGNUP_ASYNC",SET_LOGIN_STATE:"SET_LOGIN_STATE",LOGIN_LOADING:"LOGIN_LOADING",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGIN_ASYNC:"LOGIN_ASYNC"},P=a(40),R=a.n(P),W=function(){return{type:T.SIGNUP_SUCCESS}},F=function(e){return{type:T.SIGNUP_FAILURE,err:e}},q=function(e){return console.log("res :",e),localStorage.setItem("token",e.data.token),{type:T.LOGIN_SUCCESS,msg:"login success"}},Y=function(e){return{type:T.LOGIN_FAILURE,err:e}},H=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",redirectHome:null},e.handleTextChange=function(t){var a=Object(x.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.login=function(){var t=Object(G.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,R.a.post("/auth/login",{username:e.state.username,password:e.state.password}).then((function(e){document.cookie="loggedIn=true"}));case 3:e.setState({redirectHome:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.loginLoading&&!this.props.loginLoading&&this.props.msg&&this.props.history.push("/Dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{maxWidth:"sm"},r.a.createElement("br",null),r.a.createElement(k.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("form",{className:"login-form",onSubmit:this.login},r.a.createElement(k.a,{item:!0},r.a.createElement(A.a,{required:!0,onChange:this.handleTextChange,value:this.state.username,name:"username",label:"Username",type:"text"})),r.a.createElement(k.a,{item:!0},r.a.createElement(A.a,{required:!0,onChange:this.handleTextChange,value:this.state.password,name:"password",label:"Password",type:"password"})),r.a.createElement(k.a,{item:!0},r.a.createElement("br",null),r.a.createElement(b.a,{type:"submit",className:"login-button",variant:"contained",fullWidth:!0,color:"default"},"Login"))))),this.state.redirectHome&&r.a.createElement(O.a,{to:"/Search"}))}}]),a}(n.Component),M=Object(D.b)(null,(function(e){return{login:function(t){e(function(e){return function(t){R.a.post("/auth/login",{username:e.username,password:e.password}).then((function(e){return t(q(e))})).catch((function(e){t(Y(e))}))}}(t))}}}))(H),B=a(49),J=a(72),V=a.n(J);var $=function(e){var t=e.title,a=e.ingredients,n=e.image,c=e.link;return r.a.createElement("div",{className:V.a.recipe},r.a.createElement("h1",null,t),r.a.createElement("ol",null,a.map((function(e){return r.a.createElement("li",null,e.text)}))),r.a.createElement("img",{src:n,alt:""}),r.a.createElement("a",{href:c},"Instructions for the Recipe!"))},z=function(){var e=Object(n.useState)([]),t=Object(B.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(B.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)(" "),m=Object(B.a)(u,2),p=m[0],d=m[1];Object(n.useEffect)((function(){h()}),[p]);var h=function(){var e=Object(G.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.edamam.com/search?q=".concat(p,"&app_id=").concat("c16efc0d","&app_key=").concat("59bd419dcec835f30bc4b53ddd8428eb"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.hits),console.log(a.hits);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(i),s(" ")},className:"search-form"},r.a.createElement("input",{className:"search-bar",type:"text",value:i,onChange:function(e){s(e.target.value)}}),r.a.createElement("button",{className:"search-button",type:"submit"},"Search")),r.a.createElement("div",{className:"recipes"},a.map((function(e){return r.a.createElement($,{key:e.recipe.label,title:e.recipe.label,ingredients:e.recipe.ingredients,image:e.recipe.image,link:e.recipe.url})}))))},K=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleTextChange=function(t){var a=Object(x.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.signup=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{maxWidth:"sm"},r.a.createElement("br",null),r.a.createElement(k.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("form",{className:"login-form",onSubmit:this.signup},r.a.createElement(k.a,{item:!0},r.a.createElement(A.a,{required:!0,onChange:this.handleTextChange,value:this.state.username,name:"username",label:"Username",type:"text"})),r.a.createElement(k.a,{item:!0},r.a.createElement(A.a,{required:!0,onChange:this.handleTextChange,value:this.state.password,name:"password",label:"Password",type:"password"})),r.a.createElement(k.a,{item:!0},r.a.createElement("br",null),r.a.createElement(b.a,{type:"submit",className:"login-button",variant:"contained",fullWidth:!0,color:"default"},"SignUp"))))))}}]),a}(n.Component),Q=Object(D.b)(null,(function(e){return{signUp:function(t){e(function(e){return console.log("data:",e),function(t){R.a.post("/auth/signup",{username:e.username,password:e.password}).then((function(){return t(W())})).catch((function(e){t(F(e))}))}}(t))}}}))(K),X=function(e){var t=e.component,a=Object(v.a)(e,["component"]);return r.a.createElement(O.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(O.a,{to:"/Login"})}}))},Z=Object(D.b)((function(e){return console.log("state :",e),{loggedIn:e.loggedIn}}),null)((function(e){return r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:M}),r.a.createElement(O.b,{path:"/SignUp",component:Q}),r.a.createElement(O.b,{path:"/Login",component:M}),r.a.createElement(O.b,{path:"/Search",component:z}),r.a.createElement(X,{exact:!0,path:"/Dashboard",component:U}))})),ee=a(20),te=a(73),ae=a(75),ne=Object(ee.combineReducers)({loggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(console.log("action : ",t),t.type){case T.LOGIN_SUCCESS:return t.msg;case"REMOVE_LISTING":var a=Object(ae.a)(e);return a.splice(t.value,1),a;default:return e}}}),re=a(74),ce=Object(ee.createStore)(ne,Object(re.composeWithDevTools)(Object(ee.applyMiddleware)(te.a)));var oe=function(){return r.a.createElement(D.a,{store:ce},r.a.createElement(f.a,null,r.a.createElement(S,null),r.a.createElement(Z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){e.exports={recipe:"recipe_recipe__2Daw4"}},83:function(e,t,a){e.exports=a(113)},88:function(e,t,a){},93:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.a3bc65d9.chunk.js.map